# æ ¡å›­é—²ç½®äº¤æ˜“å¹³å° API æ¥å£æ–‡æ¡£

## 1. è®¾è®¡åŸåˆ™ä¸è§„èŒƒ

### 1.1 åŸºæœ¬ä¿¡æ¯
- **Base URL**: `http://localhost:8080/api`
- **è¯·æ±‚æ–¹æ³•**: ä¸»è¦ä½¿ç”¨ `GET` å’Œ `POST` æ–¹æ³•
- **è®¤è¯æ–¹å¼**: JWT Tokenï¼Œåœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer <token>`
- **æ•°æ®æ ¼å¼**: æ‰€æœ‰è¯·æ±‚å’Œå“åº”ä½“å‡ä½¿ç”¨ `JSON` æ ¼å¼
- **å­—ç¬¦ç¼–ç **: UTF-8

### 1.2 é€šç”¨å“åº”æ ¼å¼
```json
{
  "code": 200,
  "message": "success",
  "data": {
    // å…·ä½“æ•°æ®å†…å®¹
  }
}
```

### 1.3 çŠ¶æ€ç è§„èŒƒ
- `200 OK`: è¯·æ±‚æˆåŠŸ
- `201 Created`: èµ„æºåˆ›å»ºæˆåŠŸ
- `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯
- `401 Unauthorized`: æœªè®¤è¯æˆ–Tokenæ— æ•ˆ
- `403 Forbidden`: å·²è®¤è¯ä½†æ— æƒé™è®¿é—®
- `404 Not Found`: è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨
- `409 Conflict`: èµ„æºå†²çªï¼ˆå¦‚é‡å¤åˆ›å»ºï¼‰
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

### 1.4 åˆ†é¡µå“åº”æ ¼å¼
```json
{
  "items": [
    // æ•°æ®é¡¹åˆ—è¡¨
  ],
  "total": 100,
  "page": 1,
  "limit": 20,
  "totalPages": 5
}
```

---

## 2. è®¤è¯æ¨¡å— (Auth)

### 2.1 ç”¨æˆ·ç™»å½•
**åŠŸèƒ½**: æ”¯æŒè®¤è¯ç”¨æˆ·å¯†ç ç™»å½•å’Œæœªè®¤è¯ç”¨æˆ·å§“åç™»å½•

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/auth/login`
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
// è®¤è¯ç”¨æˆ·ç™»å½•
{
  "studentId": "20210001",
  "password": "user_password123"
}

// æˆ–è€…æœªè®¤è¯ç”¨æˆ·ç™»å½•ï¼ˆæ¸¸å®¢ç™»å½•ï¼‰
{
  "studentId": "20210001",
  "name": "å¼ ä¸‰"
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "studentId": "20210001",
      "name": "å¼ ä¸‰",
      "nickname": "æŠ€æœ¯å®…",
      "contact": "13800138001",
      "role": "è®¤è¯ç”¨æˆ·",
      "avatar": null,
      "createdAt": "2023-10-01T12:00:00Z"
    }
  }
}
```

**é”™è¯¯å“åº”**:
```json
// 404 - å­¦å·ä¸å­˜åœ¨
{
  "code": 404,
  "message": "å­¦å·ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥å­¦å·æ˜¯å¦æ­£ç¡®æˆ–è”ç³»ç®¡ç†å‘˜"
}

// 401 - å¯†ç é”™è¯¯
{
  "code": 401,
  "message": "å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥å¯†ç æˆ–ä½¿ç”¨å¿˜è®°å¯†ç åŠŸèƒ½"
}

// 403 - è´¦å·è¢«ç¦ç”¨
{
  "code": 403,
  "message": "è´¦å·è¢«ç¦ç”¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜"
}
```

### 2.2 è´¦å·æ¿€æ´»
**åŠŸèƒ½**: é¦–æ¬¡ä½¿ç”¨çš„ç”¨æˆ·é€šè¿‡å­¦å·¥å·ã€å§“åã€æ¿€æ´»ç æ¿€æ´»è´¦å·å¹¶è®¾ç½®å¯†ç 

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/auth/activate`
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "studentId": "20210001",
  "name": "å¼ ä¸‰",
  "activationCode": "ABC123DEF456",
  "password": "new_password123",
  "nickname": "é˜¿ä¸‰"
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "è´¦å·æ¿€æ´»æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "studentId": "20210001",
      "name": "å¼ ä¸‰",
      "nickname": "é˜¿ä¸‰",
      "contact": null,
      "role": "è®¤è¯ç”¨æˆ·",
      "avatar": null,
      "createdAt": "2023-11-15T10:00:00Z"
    }
  }
}
```

**é”™è¯¯å“åº”**:
```json
// 400 - æ¿€æ´»ç æ— æ•ˆ
{
  "code": 400,
  "message": "æ¿€æ´»ç æ— æ•ˆæˆ–å·²è¿‡æœŸï¼Œè¯·æ£€æŸ¥æ¿€æ´»ç æ˜¯å¦æ­£ç¡®"
}

// 404 - å­¦å·ä¸å­˜åœ¨æˆ–å§“åä¸åŒ¹é…
{
  "code": 404,
  "message": "å­¦å·ä¸å­˜åœ¨æˆ–å§“åä¸åŒ¹é…ï¼Œè¯·æ£€æŸ¥ä¿¡æ¯æ˜¯å¦æ­£ç¡®"
}

// 409 - è´¦å·å·²æ¿€æ´»
{
  "code": 409,
  "message": "è¯¥è´¦å·å·²æ¿€æ´»ï¼Œè¯·ç›´æ¥ä½¿ç”¨è®¤è¯ç™»å½•"
}
```

### 2.3 å¿˜è®°å¯†ç  - è¯·æ±‚é‡ç½®ç 
**åŠŸèƒ½**: ç”¨æˆ·å¿˜è®°å¯†ç æ—¶ï¼Œè¯·æ±‚å‘é€é‡ç½®ç 

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/auth/forgot-password/request`
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "studentId": "20210001"
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "å¯†ç é‡ç½®ç å·²å‘é€ï¼Œè¯·æ³¨æ„æŸ¥æ”¶"
}
```

### 2.4 å¿˜è®°å¯†ç  - é‡ç½®å¯†ç 
**åŠŸèƒ½**: ä½¿ç”¨é‡ç½®ç è®¾ç½®æ–°å¯†ç 

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/auth/forgot-password/reset`
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "studentId": "20210001",
  "resetCode": "RESET123456",
  "newPassword": "brand_new_password123"
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "å¯†ç é‡ç½®æˆåŠŸ"
}
```

---

## 3. ç”¨æˆ·æ¨¡å— (Users)

### 3.1 è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
**åŠŸèƒ½**: è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/users/me`
- **è®¤è¯**: éœ€è¦Token

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "studentId": "20210001",
    "name": "å¼ ä¸‰",
    "nickname": "æŠ€æœ¯å®…",
    "contact": "13800138001",
    "role": "è®¤è¯ç”¨æˆ·",
    "avatar": "data:image/jpeg;base64,/9j/4AAQSkZJRgABA...",
    "createdAt": "2023-10-01T12:00:00Z"
  }
}
```

### 3.2 æ›´æ–°ä¸ªäººä¿¡æ¯
**åŠŸèƒ½**: æ›´æ–°å½“å‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/users/me/update`
- **è®¤è¯**: éœ€è¦Token
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "nickname": "æ–°æ˜µç§°",
  "contact": "13900139000",
  "avatar": "data:image/jpeg;base64,/9j/4AAQSkZJRgABA..."
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "ä¸ªäººä¿¡æ¯æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "studentId": "20210001",
    "name": "å¼ ä¸‰",
    "nickname": "æ–°æ˜µç§°",
    "contact": "13900139000",
    "role": "è®¤è¯ç”¨æˆ·",
    "avatar": "data:image/jpeg;base64,/9j/4AAQSkZJRgABA...",
    "createdAt": "2023-10-01T12:00:00Z"
  }
}
```

### 3.3 è·å–æŒ‡å®šç”¨æˆ·ä¿¡æ¯
**åŠŸèƒ½**: è·å–æŒ‡å®šç”¨æˆ·çš„å…¬å¼€ä¿¡æ¯ï¼ˆç”¨äºç”¨æˆ·ä¸»é¡µï¼‰

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/users/{userId}`
- **è®¤è¯**: å¯é€‰

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "nickname": "æŠ€æœ¯å®…",
    "role": "è®¤è¯ç”¨æˆ·",
    "avatar": "data:image/jpeg;base64,/9j/4AAQSkZJRgABA...",
    "createdAt": "2023-10-01T12:00:00Z",
    "stats": {
      "totalProducts": 5,
      "activeProducts": 3
    }
  }
}
```

### 3.4 è·å–æŒ‡å®šç”¨æˆ·å‘å¸ƒçš„å•†å“
**åŠŸèƒ½**: æŸ¥çœ‹æŸä¸ªç”¨æˆ·å‘å¸ƒçš„å•†å“åˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/users/{userId}/products`
- **è®¤è¯**: å¯é€‰
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)
  - `status`: å•†å“çŠ¶æ€ (`åœ¨å”®`ã€`å·²å”®å‡º`)
  - `sortBy`: æ’åºå­—æ®µ (`createdAt`ã€`price`)
  - `order`: æ’åºæ–¹å¼ (`asc`ã€`desc`)

**å“åº”**: å‚è€ƒå•†å“åˆ—è¡¨å“åº”æ ¼å¼

### 3.5 è·å–æˆ‘æ”¶è—çš„å•†å“
**åŠŸèƒ½**: è·å–å½“å‰ç”¨æˆ·æ”¶è—çš„å•†å“åˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/users/me/favorites`
- **è®¤è¯**: éœ€è¦Token
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)

**å“åº”**: å‚è€ƒå•†å“åˆ—è¡¨å“åº”æ ¼å¼

---

## 4. å•†å“æ¨¡å— (Products)

### 4.1 è·å–å•†å“åˆ—è¡¨
**åŠŸèƒ½**: è·å–å•†å“åˆ—è¡¨ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ã€æ’åºå’Œåˆ†é¡µ

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/products`
- **è®¤è¯**: å¯é€‰
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)
  - `keyword`: æœç´¢å…³é”®è¯
  - `categoryId`: åˆ†ç±»ID
  - `status`: å•†å“çŠ¶æ€ (`åœ¨å”®`ã€`å·²å”®å‡º`)
  - `sortBy`: æ’åºå­—æ®µ (`createdAt`ã€`price`)
  - `order`: æ’åºæ–¹å¼ (`asc`ã€`desc`ï¼Œé»˜è®¤`desc`)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": 1,
        "name": "ä¹æˆæ–°ç½—æŠ€é¼ æ ‡ MX Master 3",
        "description": "ç”¨äº†ä¸€å¹´ï¼Œæ‰‹æ„Ÿå¾ˆå¥½ï¼Œæ¢æ–°çš„äº†æ•…å‡º...",
        "price": 200,
        "categoryId": 1,
        "category": {
          "id": 1,
          "name": "æ•°ç äº§å“"
        },
        "status": "åœ¨å”®",
        "images": [
          "https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400"
        ],
        "seller": {
          "id": 1,
          "nickname": "æŠ€æœ¯å®…"
        },
        "isFavorite": false,
        "createdAt": "2023-11-01T10:00:00Z"
      }
    ],
    "total": 100,
    "page": 1,
    "limit": 20,
    "totalPages": 5
  }
}
```

### 4.2 è·å–å•†å“è¯¦æƒ…
**åŠŸèƒ½**: è·å–å•ä¸ªå•†å“çš„è¯¦ç»†ä¿¡æ¯

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/products/{productId}`
- **è®¤è¯**: å¯é€‰

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "ä¹æˆæ–°ç½—æŠ€é¼ æ ‡ MX Master 3",
    "description": "ç”¨äº†ä¸€å¹´ï¼Œæ‰‹æ„Ÿå¾ˆå¥½ï¼Œæ¢æ–°çš„äº†æ•…å‡ºã€‚åŸä»·499ï¼Œç°åœ¨åªè¦200ã€‚åŠŸèƒ½å®Œå¥½ï¼Œæ— æŸåã€‚",
    "price": 200,
    "categoryId": 1,
    "category": {
      "id": 1,
      "name": "æ•°ç äº§å“"
    },
    "contact": "QQ: 123456789",
    "status": "åœ¨å”®",
    "images": [
      "https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400",
      "https://images.unsplash.com/photo-1615750185084-c7b0b6fd7269?w=400"
    ],
    "seller": {
      "id": 1,
      "nickname": "æŠ€æœ¯å®…",
      "avatar": null
    },
    "isFavorite": false,
    "createdAt": "2023-11-01T10:00:00Z"
  }
}
```

**æ³¨æ„**: `contact` å­—æ®µä»…åœ¨ç”¨æˆ·å·²è®¤è¯æ—¶è¿”å›

### 4.3 å‘å¸ƒæ–°å•†å“
**åŠŸèƒ½**: è®¤è¯ç”¨æˆ·å‘å¸ƒæ–°å•†å“

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/create`
- **è®¤è¯**: éœ€è¦Token
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "name": "ä¹æˆæ–°ç½—æŠ€é¼ æ ‡",
  "description": "ç”¨äº†ä¸€å¹´ï¼Œæ‰‹æ„Ÿå¾ˆå¥½ï¼Œæ¢æ–°çš„äº†æ•…å‡ºã€‚",
  "price": 200,
  "categoryId": 1,
  "contact": "QQ: 123456789",
  "images": [
    "data:image/jpeg;base64,/9j/4AAQSkZJRgABA...",
    "https://example.com/image2.jpg"
  ]
}
```

**å“åº” (201 Created)**:
```json
{
  "code": 201,
  "message": "å•†å“å‘å¸ƒæˆåŠŸ",
  "data": {
    "id": 123,
    "name": "ä¹æˆæ–°ç½—æŠ€é¼ æ ‡",
    "description": "ç”¨äº†ä¸€å¹´ï¼Œæ‰‹æ„Ÿå¾ˆå¥½ï¼Œæ¢æ–°çš„äº†æ•…å‡ºã€‚",
    "price": 200,
    "categoryId": 1,
    "category": {
      "id": 1,
      "name": "æ•°ç äº§å“"
    },
    "contact": "QQ: 123456789",
    "status": "åœ¨å”®",
    "images": [
      "https://api.example.com/uploads/image1.jpg"
    ],
    "seller": {
      "id": 1,
      "nickname": "æŠ€æœ¯å®…"
    },
    "isFavorite": false,
    "createdAt": "2023-11-15T10:00:00Z"
  }
}
```

### 4.4 æ›´æ–°å•†å“ä¿¡æ¯
**åŠŸèƒ½**: å•†å“å‘å¸ƒè€…ä¿®æ”¹å•†å“ä¿¡æ¯

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/{productId}/update`
- **è®¤è¯**: éœ€è¦Token (ä¸”ä¸ºå‘å¸ƒè€…æœ¬äºº)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**: åŒ…å«è¦æ›´æ–°çš„å­—æ®µ
```json
{
  "name": "æ›´æ–°åçš„å•†å“åç§°",
  "description": "æ›´æ–°åçš„æè¿°",
  "price": 180,
  "categoryId": 2,
  "contact": "å¾®ä¿¡: new_contact"
}
```

**å“åº” (200 OK)**: è¿”å›æ›´æ–°åçš„å®Œæ•´å•†å“ä¿¡æ¯

### 4.5 æ›´æ–°å•†å“çŠ¶æ€
**åŠŸèƒ½**: å‘å¸ƒè€…å°†å•†å“çŠ¶æ€ä»"åœ¨å”®"æ”¹ä¸º"å·²å”®å‡º"

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/{productId}/status`
- **è®¤è¯**: éœ€è¦Token (ä¸”ä¸ºå‘å¸ƒè€…æœ¬äºº)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "status": "å·²å”®å‡º"
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "å•†å“çŠ¶æ€æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "status": "å·²å”®å‡º",
    "soldAt": "2023-11-15T14:30:00Z"
  }
}
```

### 4.6 åˆ é™¤å•†å“
**åŠŸèƒ½**: å‘å¸ƒè€…åˆ é™¤è‡ªå·±çš„å•†å“

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/{productId}/delete`
- **è®¤è¯**: éœ€è¦Token (ä¸”ä¸ºå‘å¸ƒè€…æœ¬äºº)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "å•†å“åˆ é™¤æˆåŠŸ"
}
```

### 4.7 æ”¶è—å•†å“
**åŠŸèƒ½**: ç”¨æˆ·æ”¶è—/å–æ¶ˆæ”¶è—å•†å“

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/{productId}/favorite`
- **è®¤è¯**: éœ€è¦Token

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "æ”¶è—æˆåŠŸ"
}
```

### 4.8 å–æ¶ˆæ”¶è—å•†å“
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/{productId}/unfavorite`
- **è®¤è¯**: éœ€è¦Token

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "å–æ¶ˆæ”¶è—æˆåŠŸ"
}
```

### 4.9 è·å–å•†å“åˆ†ç±»
**åŠŸèƒ½**: è·å–æ‰€æœ‰å•†å“åˆ†ç±»åˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/categories`
- **è®¤è¯**: ä¸éœ€è¦

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "name": "æ•°ç äº§å“",
      "icon": "ğŸ“±",
      "description": "æ‰‹æœºã€ç”µè„‘ã€å¹³æ¿ç­‰æ•°ç è®¾å¤‡",
      "isActive": true,
      "productCount": 45,
      "sortOrder": 10
    },
    {
      "id": 2,
      "name": "å­¦ä¹ ç”¨å“",
      "icon": "ğŸ“š",
      "description": "æ•™æã€æ–‡å…·ã€å­¦ä¹ èµ„æ–™ç­‰",
      "isActive": true,
      "productCount": 32,
      "sortOrder": 9
    }
  ]
}
```

---

## 5. è¯„è®ºæ¨¡å— (Comments)

### 5.1 è·å–å•†å“è¯„è®º
**åŠŸèƒ½**: è·å–æŒ‡å®šå•†å“çš„è¯„è®ºåˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/products/{productId}/comments`
- **è®¤è¯**: å¯é€‰
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": 1,
        "content": "è¿™ä¸ªè¿˜åœ¨å—ï¼Ÿ",
        "author": {
          "id": 3,
          "nickname": "ä¹°å®¶å°æ",
          "avatar": null
        },
        "createdAt": "2023-10-02T10:00:00Z"
      },
      {
        "id": 2,
        "content": "æœ€ä½å¤šå°‘é’±ï¼Ÿ",
        "author": {
          "id": 4,
          "nickname": "è¯¢ä»·ç”¨æˆ·",
          "avatar": null
        },
        "createdAt": "2023-10-03T15:20:00Z"
      }
    ],
    "total": 2,
    "page": 1,
    "limit": 20,
    "totalPages": 1
  }
}
```

### 5.2 å‘è¡¨è¯„è®º
**åŠŸèƒ½**: åœ¨å•†å“ä¸‹å‘è¡¨è¯„è®º

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/products/{productId}/comments/create`
- **è®¤è¯**: éœ€è¦Token
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "content": "æœ€ä½å¤šå°‘é’±ï¼Ÿ"
}
```

**å“åº” (201 Created)**:
```json
{
  "code": 201,
  "message": "è¯„è®ºå‘è¡¨æˆåŠŸ",
  "data": {
    "id": 123,
    "content": "æœ€ä½å¤šå°‘é’±ï¼Ÿ",
    "author": {
      "id": 1,
      "nickname": "æŠ€æœ¯å®…",
      "avatar": null
    },
    "createdAt": "2023-11-15T10:00:00Z"
  }
}
```

### 5.3 åˆ é™¤è¯„è®º
**åŠŸèƒ½**: ç”¨æˆ·åˆ é™¤è‡ªå·±çš„è¯„è®º

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/comments/{commentId}/delete`
- **è®¤è¯**: éœ€è¦Token (ä¸”ä¸ºè¯„è®ºè€…æœ¬äºº)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "è¯„è®ºåˆ é™¤æˆåŠŸ"
}
```

---

## 6. ç§ä¿¡æ¨¡å— (Messages)

### 6.1 è·å–ä¼šè¯åˆ—è¡¨
**åŠŸèƒ½**: è·å–å½“å‰ç”¨æˆ·çš„ç§ä¿¡ä¼šè¯åˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/messages`
- **è®¤è¯**: éœ€è¦Token
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": "conversation_1",
        "otherUser": {
          "id": 2,
          "nickname": "ä¹¦è™«",
          "avatar": null
        },
        "lastMessage": {
          "content": "å•†å“è¿˜åœ¨å—ï¼Ÿ",
          "sentAt": "2023-11-15T09:30:00Z",
          "senderId": 2
        },
        "unreadCount": 3,
        "updatedAt": "2023-11-15T09:30:00Z"
      }
    ],
    "total": 5,
    "page": 1,
    "limit": 20,
    "totalPages": 1
  }
}
```

### 6.2 è·å–ä¸æŒ‡å®šç”¨æˆ·çš„æ¶ˆæ¯è®°å½•
**åŠŸèƒ½**: è·å–ä¸æŸä¸ªç”¨æˆ·çš„èŠå¤©è®°å½•

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/messages/{userId}`
- **è®¤è¯**: éœ€è¦Token
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤50)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "otherUser": {
      "id": 2,
      "nickname": "ä¹¦è™«",
      "avatar": null
    },
    "messages": [
      {
        "id": "msg_1",
        "content": "ä½ å¥½ï¼Œè¿™ä¸ªå•†å“è¿˜åœ¨å—ï¼Ÿ",
        "senderId": 2,
        "receiverId": 1,
        "sentAt": "2023-11-15T09:30:00Z",
        "isRead": true
      },
      {
        "id": "msg_2",
        "content": "åœ¨çš„ï¼Œä½ å¯ä»¥æ¥çœ‹çœ‹",
        "senderId": 1,
        "receiverId": 2,
        "sentAt": "2023-11-15T09:35:00Z",
        "isRead": false
      }
    ],
    "total": 15,
    "page": 1,
    "limit": 50,
    "totalPages": 1
  }
}
```

### 6.3 å‘é€ç§ä¿¡
**åŠŸèƒ½**: å‘æŒ‡å®šç”¨æˆ·å‘é€ç§ä¿¡

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/messages/send`
- **è®¤è¯**: éœ€è¦Token
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "receiverId": 2,
  "content": "ä½ å¥½ï¼Œæˆ‘å¯¹ä½ çš„å•†å“å¾ˆæ„Ÿå…´è¶£"
}
```

**å“åº” (201 Created)**:
```json
{
  "code": 201,
  "message": "æ¶ˆæ¯å‘é€æˆåŠŸ",
  "data": {
    "id": "msg_123",
    "content": "ä½ å¥½ï¼Œæˆ‘å¯¹ä½ çš„å•†å“å¾ˆæ„Ÿå…´è¶£",
    "senderId": 1,
    "receiverId": 2,
    "sentAt": "2023-11-15T10:00:00Z",
    "isRead": false
  }
}
```

### 6.4 æ ‡è®°æ¶ˆæ¯ä¸ºå·²è¯»
**åŠŸèƒ½**: å°†ä¸æŸç”¨æˆ·çš„æœªè¯»æ¶ˆæ¯æ ‡è®°ä¸ºå·²è¯»

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/messages/{userId}/read`
- **è®¤è¯**: éœ€è¦Token

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "æ¶ˆæ¯å·²æ ‡è®°ä¸ºå·²è¯»"
}
```

---

## 7. é€šçŸ¥æ¨¡å— (Notifications)

### 7.1 è·å–é€šçŸ¥åˆ—è¡¨
**åŠŸèƒ½**: è·å–å½“å‰ç”¨æˆ·çš„é€šçŸ¥åˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/notifications`
- **è®¤è¯**: éœ€è¦Token
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": "notif_1",
        "type": "NEW_COMMENT",
        "title": "æ–°è¯„è®º",
        "content": "ç”¨æˆ· 'ä¹¦è™«' è¯„è®ºäº†æ‚¨çš„å•†å“ 'ä¹æˆæ–°ç½—æŠ€é¼ æ ‡'",
        "isRead": false,
        "relatedData": {
          "productId": 1,
          "commentId": 5
        },
        "createdAt": "2023-11-15T10:00:00Z"
      },
      {
        "id": "notif_2",
        "type": "NEW_MESSAGE",
        "title": "æ–°ç§ä¿¡",
        "content": "ç”¨æˆ· 'è¿åŠ¨è¾¾äºº' å‘æ‚¨å‘é€äº†ç§ä¿¡",
        "isRead": true,
        "relatedData": {
          "senderId": 3
        },
        "createdAt": "2023-11-14T15:30:00Z"
      }
    ],
    "total": 8,
    "page": 1,
    "limit": 20,
    "totalPages": 1
  }
}
```

### 7.2 è·å–æœªè¯»é€šçŸ¥æ•°
**åŠŸèƒ½**: è·å–å½“å‰ç”¨æˆ·çš„æœªè¯»é€šçŸ¥æ€»æ•°

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/notifications/unread-count`
- **è®¤è¯**: éœ€è¦Token

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "count": 5
  }
}
```

### 7.3 æ ‡è®°é€šçŸ¥ä¸ºå·²è¯»
**åŠŸèƒ½**: æ ‡è®°å•æ¡æˆ–æ‰€æœ‰é€šçŸ¥ä¸ºå·²è¯»

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/notifications/read`
- **è®¤è¯**: éœ€è¦Token
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
// æ ‡è®°å•æ¡é€šçŸ¥ä¸ºå·²è¯»
{
  "notificationId": "notif_1"
}

// æˆ–è€…æ ‡è®°æ‰€æœ‰é€šçŸ¥ä¸ºå·²è¯»
{
  "readAll": true
}
```

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "é€šçŸ¥å·²æ ‡è®°ä¸ºå·²è¯»"
}
```

---

## 8. ä¸¾æŠ¥æ¨¡å— (Reports)

### 8.1 åˆ›å»ºä¸¾æŠ¥
**åŠŸèƒ½**: ç”¨æˆ·ä¸¾æŠ¥å•†å“æˆ–è¯„è®º

**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/reports/create`
- **è®¤è¯**: éœ€è¦Token
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "type": "product", // æˆ– "comment" æˆ– "user"
  "targetId": 123,   // è¢«ä¸¾æŠ¥å¯¹è±¡çš„ID
  "reason": "è™šå‡ä¿¡æ¯",
  "description": "è¯¥å•†å“æè¿°ä¸å®é™…ä¸ç¬¦ï¼Œæ¶‰å«Œæ¬ºè¯ˆ"
}
```

**å“åº” (201 Created)**:
```json
{
  "code": 201,
  "message": "ä¸¾æŠ¥æäº¤æˆåŠŸï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†",
  "data": {
    "id": "report_123",
    "type": "product",
    "targetId": 123,
    "reason": "è™šå‡ä¿¡æ¯",
    "description": "è¯¥å•†å“æè¿°ä¸å®é™…ä¸ç¬¦ï¼Œæ¶‰å«Œæ¬ºè¯ˆ",
    "status": "å¾…å¤„ç†",
    "createdAt": "2023-11-15T10:00:00Z"
  }
}
```

---

## 9. åå°ç®¡ç†æ¨¡å— (Admin)

**æ³¨æ„**: æ‰€æœ‰åå°ç®¡ç†æ¥å£éƒ½éœ€è¦ç®¡ç†å‘˜æˆ–è¶…çº§ç®¡ç†å‘˜æƒé™

### 9.1 è·å–æ•°æ®ç»Ÿè®¡
**åŠŸèƒ½**: è·å–å¹³å°æ•°æ®ç»Ÿè®¡ä¿¡æ¯

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/admin/stats`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalUsers": 1250,
    "totalProducts": 890,
    "activeProducts": 456,
    "totalComments": 3200,
    "totalReports": 12,
    "pendingReports": 3,
    "todayNewUsers": 5,
    "todayNewProducts": 15,
    "monthlyStats": {
      "users": [45, 52, 38, 65, 42, 58, 47],
      "products": [120, 135, 95, 178, 142, 165, 158]
    }
  }
}
```

### 9.2 ç”¨æˆ·ç®¡ç†

#### 9.2.1 è·å–ç”¨æˆ·åˆ—è¡¨
**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/admin/users`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤20)
  - `keyword`: æœç´¢å…³é”®è¯ (å­¦å·ã€å§“åã€æ˜µç§°)
  - `role`: è§’è‰²ç­›é€‰
  - `status`: çŠ¶æ€ç­›é€‰

**å“åº”**: ç”¨æˆ·åˆ—è¡¨ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä»…ç®¡ç†å‘˜å¯è§ï¼‰

#### 9.2.2 æ›´æ–°ç”¨æˆ·è§’è‰²
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/users/{userId}/role/update`
- **è®¤è¯**: éœ€è¦Token (è¶…çº§ç®¡ç†å‘˜æƒé™)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "role": "ç®¡ç†å‘˜" // æˆ–å…¶ä»–è§’è‰²
}
```

#### 9.2.3 ç¦ç”¨/å¯ç”¨ç”¨æˆ·
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/users/{userId}/status/update`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "status": "ç¦ç”¨" // æˆ– "æ­£å¸¸"
}
```

### 9.3 å•†å“ç®¡ç†

#### 9.3.1 è·å–æ‰€æœ‰å•†å“åˆ—è¡¨
**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/admin/products`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **æŸ¥è¯¢å‚æ•°**: ç±»ä¼¼æ™®é€šå•†å“åˆ—è¡¨ï¼Œä½†åŒ…å«æ›´å¤šç®¡ç†å­—æ®µ

#### 9.3.2 å¼ºåˆ¶ä¸‹æ¶å•†å“
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/products/{productId}/remove`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "reason": "è¿è§„å†…å®¹"
}
```

### 9.4 åˆ†ç±»ç®¡ç†

#### 9.4.1 åˆ›å»ºåˆ†ç±»
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/categories/create`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "name": "æ–°åˆ†ç±»åç§°",
  "icon": "ğŸ¯",
  "description": "åˆ†ç±»æè¿°",
  "sortOrder": 15
}
```

#### 9.4.2 æ›´æ–°åˆ†ç±»
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/categories/{categoryId}/update`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)

#### 9.4.3 åˆ é™¤åˆ†ç±»
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/categories/{categoryId}/delete`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)

### 9.5 ä¸¾æŠ¥ç®¡ç†

#### 9.5.1 è·å–ä¸¾æŠ¥åˆ—è¡¨
**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/admin/reports`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç 
  - `limit`: æ¯é¡µæ•°é‡
  - `status`: å¤„ç†çŠ¶æ€
  - `type`: ä¸¾æŠ¥ç±»å‹

**å“åº”**: ä¸¾æŠ¥è¯¦ç»†ä¿¡æ¯åˆ—è¡¨

#### 9.5.2 å¤„ç†ä¸¾æŠ¥
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/reports/{reportId}/process`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)
- **Content-Type**: `application/json`

**è¯·æ±‚ä½“**:
```json
{
  "action": "approved", // æˆ– "rejected" æˆ– "resolved"
  "adminNote": "å¤„ç†å¤‡æ³¨"
}
```

---

## 10. å…¬å‘Šæ¨¡å— (Notices)

### 10.1 è·å–å…¬å‘Šåˆ—è¡¨
**åŠŸèƒ½**: è·å–å¹³å°å…¬å‘Šåˆ—è¡¨

**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/notices`
- **è®¤è¯**: ä¸éœ€è¦
- **æŸ¥è¯¢å‚æ•°**:
  - `page`: é¡µç  (é»˜è®¤1)
  - `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤10)

**å“åº” (200 OK)**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": 1,
        "title": "å¹³å°ä½¿ç”¨è§„èŒƒ",
        "content": "ä¸ºäº†ç»´æŠ¤è‰¯å¥½çš„äº¤æ˜“ç¯å¢ƒ...",
        "type": "important", // æˆ– "normal"
        "isSticky": true,    // æ˜¯å¦ç½®é¡¶
        "publishedAt": "2023-11-01T10:00:00Z",
        "author": {
          "id": 2,
          "nickname": "ç®¡ç†å‘˜"
        }
      }
    ],
    "total": 5,
    "page": 1,
    "limit": 10,
    "totalPages": 1
  }
}
```

### 10.2 è·å–å…¬å‘Šè¯¦æƒ…
**è¯·æ±‚**:
- **æ–¹æ³•**: `GET`
- **è·¯å¾„**: `/api/notices/{noticeId}`
- **è®¤è¯**: ä¸éœ€è¦

### 10.3 åˆ›å»ºå…¬å‘Š (ç®¡ç†å‘˜)
**è¯·æ±‚**:
- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: `/api/admin/notices/create`
- **è®¤è¯**: éœ€è¦Token (ç®¡ç†å‘˜æƒé™)

---

## 11. é”™è¯¯å¤„ç†

### 11.1 å¸¸è§é”™è¯¯å“åº”æ ¼å¼
```json
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯",
  "errors": [
    {
      "field": "price",
      "message": "ä»·æ ¼å¿…é¡»å¤§äº0"
    }
  ]
}
```

### 11.2 è®¤è¯é”™è¯¯
```json
{
  "code": 401,
  "message": "Tokenå·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"
}
```

### 11.3 æƒé™é”™è¯¯
```json
{
  "code": 403,
  "message": "æ‚¨æ²¡æœ‰æƒé™æ‰§è¡Œæ­¤æ“ä½œ"
}
```

---

## 12. å¼€å‘è¯´æ˜

### 12.1 æ¨¡æ‹Ÿæ•°æ®æ¨¡å¼
åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œå‰ç«¯å¯ä»¥é€šè¿‡é…ç½® `useMockData: true` ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— éœ€è¿æ¥çœŸå®åç«¯ã€‚

### 12.2 æ–‡ä»¶ä¸Šä¼ 
- å›¾ç‰‡æ–‡ä»¶å»ºè®®ä½¿ç”¨ Base64 ç¼–ç åœ¨JSONä¸­ä¼ è¾“
- æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ï¼šJPGã€PNG
- å•ä¸ªå›¾ç‰‡å¤§å°é™åˆ¶ï¼š2MB
- æ¯ä¸ªå•†å“æœ€å¤šæ”¯æŒ5å¼ å›¾ç‰‡

### 12.3 å®æ—¶åŠŸèƒ½
- ç§ä¿¡åŠŸèƒ½å¯è€ƒè™‘ä½¿ç”¨ WebSocket å®ç°å®æ—¶é€šè®¯
- é€šçŸ¥åŠŸèƒ½å¯ä½¿ç”¨æœåŠ¡å™¨æ¨é€ (SSE) æˆ– WebSocket

### 12.4 å®‰å…¨è€ƒè™‘
- æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½éœ€è¦è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œè¿‡æ»¤
- å›¾ç‰‡ä¸Šä¼ éœ€è¦æ£€æŸ¥æ–‡ä»¶ç±»å‹å’Œå¤§å°
- æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚è”ç³»æ–¹å¼ï¼‰åªå¯¹è®¤è¯ç”¨æˆ·æ˜¾ç¤º
- å®æ–½é¢‘ç‡é™åˆ¶é˜²æ­¢æ¶æ„è¯·æ±‚

---

## 13. ç‰ˆæœ¬ä¿¡æ¯

- **æ–‡æ¡£ç‰ˆæœ¬**: v2.0
- **æœ€åæ›´æ–°**: 2023å¹´11æœˆ15æ—¥
- **å…¼å®¹çš„å‰ç«¯ç‰ˆæœ¬**: v1.0+
